import{d as _,l as T,a as p,n as b,m as R,b as t,t as h,p as Y,o as c,e as O,s as I,q as j,u as L,x as G,y as V,z as q,A as Z,f,B as J,C as K,D as A,c as M,g as $,E as m,F as x,G as k,H as Q,I as X}from"./vendor-B7x4e_sd.js";import{_ as v}from"./index-BP9eLB91.js";const ee={key:0,class:"base-panel-title"},te={class:"base-panel-body"},ae=_({__name:"BasePanel",props:{title:{},width:{},height:{}},setup(r){const n=r,l=T(()=>({gridArea:`span ${n.height} / span ${n.width}`}));return(a,s)=>(c(),p("div",{class:"base-panel",style:b(l.value)},[a.title?(c(),p("div",ee,h(a.title),1)):R("",!0),t("div",te,[Y(a.$slots,"default",{},void 0)])],4))}}),w=v(ae,[["__scopeId","data-v-5f920c26"]]),se={class:"base-uav-marker"},ne=_({__name:"BaseUavMarker",setup(r){return(n,l)=>(c(),p("div",se,l[0]||(l[0]=[t("div",{class:"marker-dot"},null,-1)])))}}),oe=v(ne,[["__scopeId","data-v-2a0814a7"]]);function B(){const r=O(),n=I(),l=()=>{var i;return(i=n.value)==null?void 0:i.resize()},a=()=>{var i;return(i=n.value)==null?void 0:i.clear()},s=(i="light")=>{var d;n.value&&((d=n.value)==null||d.dispose()),V.isElement(r.value)?n.value=q(r.value,i):console.warn("容器还未初始化"),window.removeEventListener("resize",l),window.addEventListener("resize",l)},o=i=>{var d;n.value||s(),(d=n.value)==null||d.setOption(i)};return j(()=>{window.removeEventListener("resize",l)}),L(()=>{window.addEventListener("resize",l)}),{container:r,chart:n,setOption:o,resize:l,clear:a,echarts:G}}const e=Z({lat:29.83,lng:119.86,altitude:2e3,heading:4.7,pitch:0,roll:0,correction:1,speed:700});function ie(){const r=O(),n=I(),l=I(),a={UP:"w",DOWN:"s",LEFT:"a",RIGHT:"d",SPEED_UP:"q",SPEED_DOWN:"e"},s={[a.UP]:!1,[a.DOWN]:!1,[a.LEFT]:!1,[a.RIGHT]:!1,[a.SPEED_UP]:!1,[a.SPEED_DOWN]:!1},o=async()=>{const u=await Cesium.createWorldTerrainAsync();n.value=new Cesium.Viewer(r.value,{infoBox:!1,selectionIndicator:!1,animation:!1,baseLayerPicker:!1,geocoder:!1,navigationHelpButton:!1,fullscreenButton:!1,homeButton:!1,sceneModePicker:!1,timeline:!1,shadows:!0,shouldAnimate:!0,terrainProvider:u}),n.value.scene.globe.depthTestAgainstTerrain=!0,n.value.cesiumWidget.creditContainer.style.display="none"},i=u=>{d(u),y();const g=()=>{z(),U(),requestAnimationFrame(g)};g()},d=u=>{const g=Cesium.Cartesian3.fromDegrees(120,30,2e3),P=n.value.entities.add({name:"uav",position:g,model:{uri:u,runAnimations:!0}});n.value.trackedEntity=P,l.value=P},y=()=>{document.addEventListener("keydown",u=>{Object.keys(s).includes(u.key)&&(s[u.key]=!0)}),document.addEventListener("keyup",u=>{Object.keys(s).includes(u.key)&&(s[u.key]=!1)})},z=()=>{if(s[a.SPEED_UP]&&(e.speed+=100),s[a.SPEED_DOWN]&&e.speed>=500&&(e.speed-=100),s[a.UP]&&e.pitch<=.3&&(e.pitch+=.005,e.pitch>0)){const{speed:F,pitch:C}=e,E=e.speed/60/60/60*110;e.altitude+=E*Math.sin(C)}if(s[a.DOWN]&&e.pitch>=-.3&&(e.pitch-=.006,e.pitch<0)){const{speed:F,pitch:C}=e,E=e.speed/60/60/60*110;e.altitude+=E*Math.sin(C)}s[a.LEFT]&&(e.heading-=.005,e.roll>-.785&&(e.roll-=.005)),s[a.RIGHT]&&(e.heading+=.005,e.roll<.785&&(e.roll+=.005));const{heading:u,pitch:g,roll:P}=e,{abs:S,cos:D}=Math;e.correction=S(D(u)*D(g)),S(u)<.001&&(e.heading=0),S(P)<.001&&(e.roll=0),S(g)<.001&&(e.pitch=0),e.roll>0&&(e.roll-=.003),e.roll<0&&(e.roll+=.003),e.pitch<0&&(e.pitch+=.005),e.pitch>0&&(e.pitch-=.003)},U=()=>{const u=e.speed/60/60/60/110;e.lng+=u*Math.cos(e.heading),e.lat-=u*Math.sin(e.heading);const{lng:g,lat:P,altitude:S,heading:D,pitch:F,roll:C}=e;e.altitude+=u*Math.sin(F)*110*1e3*10;const E=Cesium.Cartesian3.fromDegrees(g,P,S),H=new Cesium.HeadingPitchRoll(D,F,C),W=Cesium.Transforms.headingPitchRollQuaternion(E,H);l.value.orientation=W,l.value.position=E};return L(async()=>{await o(),i("./models/uav.glb")}),{container:r,viewer:n}}function le(r,n){const l=_({render:()=>K(r,n)}),a=f(l);return J(a,document.createElement("div")),a.el}function re(){const r=O(),n=I(),l=I(),a=I(),s=()=>{n.value=A.map(r.value,{attributionControl:!1,zoomControl:!1,doubleClickZoom:!1,scrollWheelZoom:!1}).setView([0,0],13),l.value=A.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png"),n.value.addLayer(l.value)},o=d=>{const y=le(oe,{}),z=A.divIcon({html:y,iconSize:[6,6],iconAnchor:[3,3]});a.value=A.marker(d,{icon:z}),a.value.addTo(n.value)},i=d=>{var y;a.value.setLatLng(d),(y=n.value)==null||y.panTo(d)};return L(()=>{s(),o([0,0]),console.log(a.value)}),{container:r,marker:a,setMarkerPosition:i}}const ce={class:"container"},de={class:"compass-main"},ue=_({__name:"index",setup(r){const n=["北","30","60","东","120","150","南","210","240","西","300","330"],l=o=>o%5===0?{height:"15px",transform:`rotate(${o*6}deg) translateY(-75px)`,background:"var(--color-neutral-4)"}:{transform:`rotate(${o*6}deg) translateY(-80px)`},a=o=>[0].includes(o)?{color:"rgb(var(--primary-6))",transform:`rotate(${o*30}deg) translateY(-52px)`}:{transform:`rotate(${o*30}deg) translateY(-52px)`},s=T(()=>({transform:`rotate(${(e.heading*(180/Math.PI)).toFixed(0)}deg)`}));return(o,i)=>(c(),M(m(w),null,{default:$(()=>[t("div",ce,[i[2]||(i[2]=t("div",{class:"compass-pointer"},null,-1)),t("div",de,[i[0]||(i[0]=t("div",{class:"compass-outer-ring"},null,-1)),i[1]||(i[1]=t("div",{class:"compass-inner-ring"},null,-1)),t("div",{class:"compass-tick-panel",style:b(s.value)},[(c(),p(k,null,x(60,d=>t("div",{class:"compass-tick-line",key:d,style:b(l(d))},null,4)),64)),(c(),p(k,null,x(n,(d,y)=>t("div",{class:"compass-tick-number",key:d,style:b(a(y))},h(d),5)),64))],4)])])]),_:1}))}}),pe=v(ue,[["__scopeId","data-v-f81f4903"]]),me={class:"params-container"},_e={class:"param-item"},ve={class:"param-label"},fe={class:"param-value"},he={class:"value-number"},ge={class:"value-unit"},ye=_({__name:"params",setup(r){const n=T(()=>[{label:"高度",value:e.altitude.toFixed(2),unit:"米"},{label:"经度",value:e.lat.toFixed(2),unit:""},{label:"纬度",value:e.lng.toFixed(2),unit:""},{label:"俯仰角",value:(e.pitch*(180/Math.PI)).toFixed(2),unit:"度"},{label:"偏航角",value:(e.heading*(180/Math.PI)).toFixed(2),unit:"度"},{label:"滚转角",value:(e.roll*(180/Math.PI)).toFixed(2),unit:"弧度"},{label:"速度",value:e.speed.toFixed(2),unit:"km/h"},{label:"温度",value:"25",unit:"°C"},{label:"电池电量",value:"75%",unit:""}]);return(l,a)=>(c(),p("div",me,[(c(!0),p(k,null,x(n.value,s=>(c(),p("div",_e,[t("div",ve,h(s.label),1),t("div",fe,[t("span",he,h(s.value),1),t("span",ge,h(s.unit),1)])]))),256))]))}}),be=v(ye,[["__scopeId","data-v-ef9be13d"]]),N=1e3*2,xe=_({__name:"altimeter",setup(r){const{container:n,setOption:l}=B();let a=[];const s=o=>({grid:{left:"60",right:"20",top:"15",bottom:"25"},xAxis:{type:"category",data:o.map(i=>i.label),axisTick:{show:!1},axisLabel:{show:!0,fontSize:10,color:"#555"},axisLine:{show:!1,lineStyle:{color:"rgb(229, 230, 235)",width:1}}},yAxis:{name:"飞机高度(米)",nameLocation:"middle",nameGap:36,type:"value",axisLabel:{show:!0,fontSize:10,color:"#555"},splitLine:{show:!1,lineStyle:{color:"#f2f3f5",width:1,type:"dashed"}}},series:[{data:o.map(i=>i.value),type:"line",symbol:"none",lineStyle:{width:1},areaStyle:{color:"rgba(22, 93, 255, 0.15)"},itemStyle:{color:"rgb(22, 93, 255)"},markLine:{symbol:["none","none"],label:{show:!0,position:"middle",formatter:"高度警戒线",fontSize:10,color:"#e24f48aa"},lineStyle:{type:"dashed",color:"#e24f48aa"},data:[{yAxis:300}]}}]});return L(()=>{setInterval(()=>{a.length>N&&a.splice(0,a.length-N),a.push({label:Q().format("HH:mm:ss"),value:e.altitude});const o=s(a);l(o)},1e3)}),(o,i)=>(c(),p("div",{class:"altimeter",ref_key:"container",ref:n},null,512))}}),ke=v(xe,[["__scopeId","data-v-3ee44143"]]),$e={class:"container"},we=_({__name:"index",setup(r){return(n,l)=>(c(),M(m(w),null,{default:$(()=>[t("div",$e,[f(be),f(ke)])]),_:1}))}}),Pe=v(we,[["__scopeId","data-v-3fc1ec66"]]),Se={class:"container"},Ee={class:"profile-detail"},Ie={class:"detail-item"},Le={class:"detail-item-label"},Me={class:"detail-item-value"},Ce=_({__name:"index",setup(r){const n=[{name:"岗位",value:"前端开发工程师"},{name:"行业经验",value:"5年"},{name:"编号",value:"#1c55e1d88e7b"},{name:"执照到期时间",value:"2030-01-01"},{name:"状态",value:"已授权"},{name:"牌照种类",value:"UTC"},{name:"语言",value:"中文(熟练)"}];return(l,a)=>(c(),M(m(w),null,{default:$(()=>[t("div",Se,[a[0]||(a[0]=t("div",{class:"profile-avatar"},null,-1)),a[1]||(a[1]=t("div",{class:"profile-info"},[t("span",{class:"info-name"},"fengtianxi001"),t("span",{class:"info-sex"},"♂")],-1)),t("div",Ee,[(c(),p(k,null,x(n,s=>t("div",Ie,[t("span",Le,h(s.name)+":",1),t("span",Me,h(s.value),1)])),64))])])]),_:1}))}}),De=v(Ce,[["__scopeId","data-v-0d389669"]]),Fe={class:"container"},Ae=_({__name:"index",setup(r){const{container:n,setOption:l}=B(),a=()=>({radar:{indicator:[{name:"环境适应性",max:6500},{name:"飞行性能",max:16e3},{name:"软件指标",max:3e4},{name:"导航定位能力",max:38e3},{name:"数据链路",max:52e3},{name:"续航时间",max:25e3}],radius:"65%",name:{textStyle:{color:"#4e5969",fontSize:10}},splitNumber:4,splitArea:{areaStyle:{color:[]}}},series:[{type:"radar",data:[{value:[4300,1e4,28e3,35e3,5e4,19e3],name:"",areaStyle:{color:"rgba(22, 93, 255, 0.15)"},itemStyle:{color:"rgb(22, 93, 255)"},lineStyle:{width:1,type:""},symbol:"none"}]}]});return L(()=>{const s=a();l(s)}),(s,o)=>(c(),M(m(w),null,{default:$(()=>[t("div",Fe,[o[0]||(o[0]=t("div",{class:"detail"},[t("div",{class:"detail-info"},[t("div",{class:"detail-name"},"DJI Mavic pro"),t("div",{class:"detail-desc"},"FHD high-Framerate Live Feed")]),t("div",{class:"detail-avatar"})],-1)),t("div",{class:"content",ref_key:"container",ref:n},null,512)])]),_:1}))}}),Te=v(Ae,[["__scopeId","data-v-6189592b"]]),ze={class:"container"},Oe={class:"gradienter-main"},Ne={class:"gradienter-tick-panel"},Be={class:"gradienter-line-panel"},Ue={class:"line-item"},He={class:"line-item-tip"},We={class:"line-item-tip"},Re=_({__name:"index",setup(r){const n=s=>{let o={};return s%5===0?o={height:"15px",transform:`rotate(${s*6}deg) translateY(-75px)`}:o={height:"5px",transform:`rotate(${s*6}deg) translateY(-80px)`},15<s&&s<45&&(o.display="none"),o},l=s=>{let o={transform:`rotate(${s*30}deg) translateY(-56px)`};return 3<s&&s<9&&(o.display="none"),o},a=T(()=>{const s=(e.roll*(180/Math.PI)).toFixed(0),o=(-1*(e.pitch*(180/Math.PI))).toFixed(0);return{transform:`rotate(${s}deg) translateY(${o}px)`}});return(s,o)=>(c(),M(m(w),null,{default:$(()=>[t("div",ze,[t("div",Oe,[o[1]||(o[1]=t("div",{class:"gradienter-outer-ring"},null,-1)),o[2]||(o[2]=t("div",{class:"gradienter-inner-ring"},null,-1)),t("div",Ne,[(c(),p(k,null,x(60,i=>t("div",{class:"gradienter-tick-line",key:i,style:b(n(i))},null,4)),64)),(c(),p(k,null,x(12,i=>t("div",{class:"gradienter-tick-number",key:i,style:b(l(i))},h((Math.abs(6-i)-3)*30),5)),64))]),t("div",Be,[(c(),p(k,null,x(3,i=>t("div",Ue,[t("span",He,h((i-2)*15*-1),1),o[0]||(o[0]=t("span",{class:"line-item-line"},null,-1)),t("span",We,h((i-2)*15*-1),1)])),64))]),t("div",{class:"gradienter-value",style:b(a.value)},null,4)])])]),_:1}))}}),Ye=v(Re,[["__scopeId","data-v-b01293e3"]]),je={class:"container"},Ge=_({__name:"index",setup(r){const{container:n,setMarkerPosition:l}=re();return X(()=>[e.lat,e.lng],()=>{l([e.lat,e.lng])}),(a,s)=>(c(),M(m(w),null,{default:$(()=>[s[0]||(s[0]=t("div",{class:"mask-container"},null,-1)),t("div",je,[t("div",{class:"map-container",ref_key:"container",ref:n},null,512)])]),_:1}))}}),Ve=v(Ge,[["__scopeId","data-v-70b77fde"]]),qe={class:"container"},Ze=_({__name:"index",setup(r){const{container:n}=ie();return L(()=>{}),(l,a)=>(c(),p("div",qe,[f(m(w),{width:20,height:18},{default:$(()=>[t("div",{style:{width:"100%",height:"100%"},ref_key:"container",ref:n},null,512)]),_:1}),f(m(Te),{width:4,height:9}),f(m(De),{width:4,height:9}),f(m(Ve),{width:4,height:6}),f(m(Pe),{width:12,height:6}),f(m(Ye),{width:4,height:6}),f(m(pe),{width:4,height:6})]))}}),Qe=v(Ze,[["__scopeId","data-v-6a243a00"]]);export{Qe as default};
